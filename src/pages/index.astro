---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getLastPublication, showDate } from "../repo/data";

const { entry } = await getLastPublication();
---

<BaseLayout title="Hola amor ¬∑ Inicio">
	<div
		class="flex min-h-screen flex-col justify-center overflow-hidden py-12 px-2 sm:py-12"
	>
		<article
			class="bg-white p-6 shadow-xl rounded-lg sm:max-w-lg sm:mx-auto sm:min-w-96"
		>
			<div class="mx-auto max-w-md">
				<div class="flex justify-end items-center gap-px">
					<p class="text-xs text-gray-500">
						<time
							datetime={showDate(entry.data.date)}
							title={"entry last pubdate: " +
								entry.data.date.toLocaleDateString("es-es")}
							>{showDate(entry.data.date)}</time
						>
					</p>
					<icon>üåª</icon>
				</div>
				<div class="divide-y divide-gray-300/50">
					<div
						class="space-y-6 py-8 text-base leading-7 text-gray-600 leading-7"
						transition:animate="fade"
					>
						<p id="saludo">Hola mi amor ‚ù§Ô∏è!</p>
					</div>

					<footer
						class="flex justify-between pt-6 text-base font-semibold leading-7"
					>
						<a
							href="/special/san-valentin"
							class="text-base text-red-500 hover:text-red-600">P√∫lsame</a
						>

						<a
							href={`/words/${entry.slug}`}
							class="text-base text-sky-500 hover:text-sky-600"
						>
							Siguiente &rarr;
						</a>
					</footer>
				</div>
			</div>
		</article>
	</div>
</BaseLayout>

<script>
	const box = document.getElementById("saludo");
	if (box != null) {
		const fechaActual = new Date();
		const horaActual = fechaActual.getHours();
		if (horaActual < 11) {
			box.innerText = "Buenos d√≠as mi amor ‚ù§Ô∏è!";
		}
	}
</script>
